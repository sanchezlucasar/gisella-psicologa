---
const WHATSAPP =
    "https://wa.me/5493510000000?text=" +
    encodeURIComponent("Hola, quisiera coordinar una primera consulta.");
const EMAIL = "psicologia@example.com";
const UBICACION = "Córdoba, Argentina";
---

<section id="contacto" class="py-20 blob-bg">
    <div class="max-w-6xl mx-auto px-4 grid md:grid-cols-2 gap-10 items-start">
        <div class="space-y-4 reveal">
            <h2 class="section-title">Contacto</h2>
            <p class="text-slate-600">
                Modalidad online. Consultas y coordinación de turnos.
            </p>

            <div class="card p-6 space-y-3">
                <p>
                    <strong>Email:</strong>
                    <a class="link-underline" href={`mailto:${EMAIL}`}
                        >{EMAIL}</a
                    >
                </p>
                <p>
                    <strong>WhatsApp:</strong>
                    <a
                        class="link-underline"
                        href={WHATSAPP}
                        target="_blank"
                        rel="noopener">+54 9 351 XXX XXXX</a
                    >
                </p>
                <p><strong>Ubicación:</strong> {UBICACION}</p>
                <p class="text-sm text-slate-500">Horarios a convenir.</p>
            </div>

            <a
                href={WHATSAPP}
                target="_blank"
                rel="noopener"
                class="btn-primary whatsapp inline-flex items-center gap-2"
            >
                Iniciar conversación
            </a>
        </div>

        <div
            class="rounded-2xl overflow-hidden border border-slate-200 h-[420px] reveal"
        >
            <iframe
                title="Ubicación de referencia"
                width="100%"
                height="100%"
                style="border:0;"
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                src={"https://www.google.com/maps?q=" +
                    encodeURIComponent(UBICACION) +
                    "&output=embed"}
            >
            </iframe>
        </div>
    </div>
</section>

<script is:raw>
    (() => {
        const obs = new IntersectionObserver(
            (es) =>
                es.forEach(
                    (e) => e.isIntersecting && e.target.classList.add("in"),
                ),
            { threshold: 0.12 },
        );
        document
            .querySelectorAll("#contacto .reveal")
            .forEach((el) => obs.observe(el));
    })();
</script>
