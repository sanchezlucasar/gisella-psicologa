---
const WHATSAPP = "https://wa.me/542975408275";

const servicios = [
    {
        slug: "terapia-individual",
        titulo: "Terapia Individual",
        resumen:
            "Espacio de escucha y acompañamiento para el bienestar emocional y el autoconocimiento.",
        puntos: [
            "Ansiedad y estrés",
            "Procesos de duelo",
            "Crecimiento personal",
        ],
        color: "from-emerald-50 to-white",
        icon: "user",
    },
    {
        slug: "terapia-pareja-familia",
        titulo: "Terapia de Pareja y Familia",
        resumen:
            "Mejora de la comunicación, resolución de conflictos y fortalecimiento de vínculos afectivos.",
        puntos: [
            "Crisis de pareja",
            "Orientación en la crianza",
            "Conflictos familiares",
        ],
        color: "from-indigo-50 to-white",
        icon: "family",
    },
    {
        slug: "orientacion-vocacional",
        titulo: "Orientación Vocacional",
        resumen:
            "Acompañamiento en la elección de carrera, desarrollo profesional y proyecto de vida.",
        puntos: [
            "Decisiones académicas",
            "Proyecto profesional",
            "Planificación de metas",
        ],
        color: "from-rose-50 to-white",
        icon: "cap",
    },
    {
        slug: "psicoterapia-infantil",
        titulo: "Psicoterapia Infantil y Adolescente",
        resumen:
            "Apoyo psicológico en etapas clave del desarrollo emocional y social.",
        puntos: [
            "Dificultades emocionales",
            "Habilidades sociales",
            "Conducta y aprendizaje",
        ],
        color: "from-purple-50 to-white",
        icon: "child",
    },
    {
        slug: "evaluaciones-psicologicas",
        titulo: "Evaluaciones Psicológicas",
        resumen:
            "Aplicación e interpretación de pruebas cognitivas, emocionales y de personalidad.",
        puntos: [
            "Pruebas proyectivas",
            "Evaluación emocional",
            "Orientación diagnóstica",
        ],
        color: "from-sky-50 to-white",
        icon: "tests",
    },
    {
        slug: "talleres-psicoeducacion",
        titulo: "Talleres y Psicoeducación",
        resumen:
            "Espacios grupales para aprender sobre emociones, autocuidado y salud mental.",
        puntos: [
            "Mindfulness y relajación",
            "Prevención del estrés",
            "Educación emocional",
        ],
        color: "from-slate-50 to-white",
        icon: "edu",
    },
];

const iconPaths: Record<string, string> = {
    user: "M12 12a5 5 0 1 0-5-5a5 5 0 0 0 5 5m-7 8a7 7 0 0 1 14 0Z",
    family: "M12 7a3 3 0 1 0-3-3a3 3 0 0 0 3 3m6 3a2.5 2.5 0 1 0-2.5-2.5A2.5 2.5 0 0 0 18 10M6 10a2 2 0 1 0-2-2a2 2 0 0 0 2 2m6 2a6 6 0 0 1 6 6H6a6 6 0 0 1 6-6m8 6a4 4 0 0 0-4-4",
    cap: "m12 3l10 6l-10 6L2 9l10-6Zm0 14l6-3.6V18l-6 3l-6-3v-4.6L12 17Z",
    child: "M12 12a4 4 0 1 0-4-4a4 4 0 0 0 4 4m-6 8v-2a4 4 0 1 1 8 0v2Z",
    tests: "M7 21q-1.25 0-2.125-.875T4 18V6q0-1.25.875-2.125T7 3h7v2H7v12h10V8h2v10q0 1.25-.875 2.125T16 21H7Zm4-6l7-7l-1.4-1.4L11 12.2L8.8 10L7.4 11.4L11 15Z",
    edu: "M12 3l9 5l-9 5L3 8l9-5Zm6 7v5l-6 3l-6-3v-5l6 3l6-3Z",
};

const waLink = (titulo: string) =>
    `${WHATSAPP}?text=${encodeURIComponent(`Hola, necesito un turno de ${titulo}.`)}`;
---

<section id="servicios" class="py-20 bg-slate-50">
    <div class="max-w-6xl mx-auto px-4">
        <div class="max-w-2xl">
            <h2 class="text-3xl md:text-4xl font-bold">
                Servicios Psicológicos
            </h2>
            <p class="mt-3 text-slate-600">
                Abordaje <strong>clínico y educativo</strong> para el bienestar emocional
                y el desarrollo personal.
            </p>
        </div>

        <div class="mt-10 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {
                servicios.map((s) => (
                    <article class="group rounded-2xl border border-slate-200 bg-white overflow-hidden">
                        <div
                            class={`bg-gradient-to-b ${s.color} p-5 border-b border-slate-200`}
                        >
                            <div class="flex items-center gap-3">
                                <div class="p-2 rounded-xl bg-white/70 text-brand-700 ring-1 ring-slate-200">
                                    <svg
                                        viewBox="0 0 24 24"
                                        class="h-6 w-6"
                                        aria-hidden="true"
                                    >
                                        <path
                                            fill="currentColor"
                                            d={iconPaths[s.icon]}
                                        />
                                    </svg>
                                </div>
                                <h3 class="text-lg font-semibold">
                                    {s.titulo}
                                </h3>
                            </div>
                            <p class="mt-3 text-slate-600 text-sm leading-relaxed">
                                {s.resumen}
                            </p>
                        </div>

                        <ul class="p-5 space-y-2 text-sm text-slate-700">
                            {s.puntos.map((p) => (
                                <li class="flex items-start gap-2">
                                    <span class="mt-1 inline-block h-2 w-2 rounded-full bg-emerald-400" />
                                    <span>{p}</span>
                                </li>
                            ))}
                        </ul>

                        <div class="px-5 pb-5 flex items-center justify-between">
                            <a
                                href={`${import.meta.env.BASE_URL}#contacto`}
                                class="text-brand-700 hover:underline text-sm"
                            >
                                Más información
                            </a>
                            <a
                                href={waLink(s.titulo)}
                                target="_blank"
                                rel="noopener noreferrer"
                                class="btn-brand text-sm"
                            >
                                Pedir turno
                            </a>
                        </div>
                    </article>
                ))
            }
        </div>
    </div>
</section>
